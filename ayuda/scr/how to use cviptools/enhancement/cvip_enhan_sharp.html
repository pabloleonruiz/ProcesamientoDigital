<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- saved from url=(0014)about:internet -->
<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 10">
<meta name=Originator content="Microsoft Word 10">
<link rel=File-List href="cvip_enhan_sharp_files/filelist.xml">
<title>Sharpening</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Yue</o:Author>
  <o:LastAuthor>ACADEMIC COMPUTING</o:LastAuthor>
  <o:Revision>8</o:Revision>
  <o:TotalTime>40</o:TotalTime>
  <o:Created>2003-10-20T04:25:00Z</o:Created>
  <o:LastSaved>2004-08-02T19:15:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>812</o:Words>
  <o:Characters>4631</o:Characters>
  <o:Lines>38</o:Lines>
  <o:Paragraphs>10</o:Paragraphs>
  <o:CharactersWithSpaces>5433</o:CharactersWithSpaces>
  <o:Version>10.3501</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]-->
<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
p
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="2050"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body bgcolor=white background=background.gif lang=EN-US link=blue vlink=blue
style='tab-interval:.5in'><script language="JavaScript" type="text/JavaScript">
function syn(){
if(parent.nav.tree){
 if(parent.nav.tree.loaded){
  parent.nav.tree.selectNode(25);
 }else{
  setTimeout("syn()",500);
}
  }else{
  setTimeout("syn()",500);
  }}
if(parent!=self){
  setTimeout("syn()",100);
}else{
  parent.location.href = "../../../index.htm#page=How+To+Use+CVIPtools%2FEnhancement%2Fcvip_enhan_sharp.html";
}
originalOnload = window.onload;
if(originalOnload==null){
window.onload = function(){parent.contentLoaded = true;};
}else{
window.onload = function(){originalOnload();parent.contentLoaded = true;};
}
</script> 


<div class=Section1>

<h3><!-- .TH cvip_enhan_sharp -->Enhancement: Sharpening</h3>

<p class=MsoNormal style='mso-margin-top-alt:auto;margin-right:.5in;mso-margin-bottom-alt:
auto;margin-left:.5in'><a name=0></a>Image sharpening is done to enhance
details in an image. This is done by boosting the edge, or high frequency,
information in an image. In the spatial domain this can be done by adding the
result from a high pass spatial mask, such as an edge detector, to the original
image, or by using special algorithms such as unsharp masking. In the frequency
domain this is done by boosting the high frequency information. <o:p></o:p></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;margin-right:.5in;mso-margin-bottom-alt:
auto;margin-left:.5in'><!-- .SS FOR ALL FUNCTIONS: --><o:p>&nbsp;</o:p></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;margin-right:.5in;mso-margin-bottom-alt:
auto;margin-left:.5in'><a href="#1">For All Functions:</a><br>
<a href="#2">Sharpening Algorithm I:</a><br>
<a href="#3">Sharpening Algorithm II:</a></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;margin-right:.5in;mso-margin-bottom-alt:
auto;margin-left:.5in'><span class=MsoHyperlink><a
href="cvip_enhan_sharp.html#highpassspatialfilter">High pass spatial filter:</a></span><br>
<a href="#4">High boost:</a><br>
<a href="#5">Unsharp masking:</a><br>
<a href="#6">FFT, DCT Sharpening:</a><br>
<a href="#7">High Frequency emphasis:</a><br>
<a href="#8">Homomorphic Sharpening:</a></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;margin-right:.5in;mso-margin-bottom-alt:
auto;margin-left:.5in'><o:p>&nbsp;</o:p></p>

<h4>&nbsp; &nbsp; FOR ALL FUNCTIONS:</h4>

<p class=MsoNormal style='mso-margin-top-alt:auto;margin-right:.5in;mso-margin-bottom-alt:
auto;margin-left:.5in'><a name=1></a>After setting the desired parameters,
press the &#8216;Apply&#8217; button at lower right to perform the operation. </p>

<p style='margin-top:5.0pt;margin-right:.5in;margin-bottom:5.0pt;margin-left:
.5in'>The current image is automatically selected, and can be changed by
clicking mouse button 1 on an image in the main window&#8217;s image queue. </p>

<p style='margin-top:5.0pt;margin-right:.5in;margin-bottom:5.0pt;margin-left:
.5in'><o:p>&nbsp;</o:p></p>

<p style='margin-top:5.0pt;margin-right:.5in;margin-bottom:5.0pt;margin-left:
.5in'><b style='mso-bidi-font-weight:normal'>SPATIAL DOMAIN SHARPENING <o:p></o:p></b></p>

<h4><!-- .SS Sharpening algorithm I: -->&nbsp; &nbsp; Sharpening Algorithm I:</h4>

<p class=MsoNormal style='mso-margin-top-alt:auto;margin-right:.5in;mso-margin-bottom-alt:
auto;margin-left:.5in'><a name=2></a>This algorithm works as follows: 1)
performs a Laplacian edge detection on the original image, 2) performs a Sobel
edge detection on the original image, 3) multiplies result from Laplacian and
Sobel, 4) adds the product from step 3 to the original image, 5) histogram
stretches the result from step 4. </p>

<p style='margin-top:5.0pt;margin-right:.5in;margin-bottom:5.0pt;margin-left:
.5in'>With the &#8216;Intermediate Image Remapping&#8217; option you can remap
the product (from step 3) to BYTE range (0-255) before you add it to the
original image. This has the effect of improving image contrast, but with
reduced sharpening effect. Two different Laplacian masks can be selected, but
Mask II tends to give more raggedy edges. Choosing a larger mask size for the
Sobel will tend to brighten the major edges, but will also tend to smear them
out slightly. The final two selections, &#8216;Low/High clip percentage&#8217;,
determine how much of the histogram is clipped during the final histogram
stretch. <o:p></o:p></p>

<h4><!-- .SS Sharpening algorithm II: -->&nbsp; &nbsp; Sharpening Algorithm II:</h4>

<p class=MsoNormal style='mso-margin-top-alt:auto;margin-right:.5in;mso-margin-bottom-alt:
auto;margin-left:.5in'><a name=3></a>The sharpening algorithm first performs a
histogram shrink to the range [10,100<blink>]</blink>, then sharpens using the
Roberts gradient method to improve edges. Finally, the image is histogram equalized.
You can choose to add the result to the original image or not with the checkbox
in the lower left corner of the &#8216;Parameters&#8217; frame. <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <!-- .SS  Highpass spatial filter: --></p>

<h4>&nbsp; &nbsp; <a name=highpassspatialfilter></a>High pass spatial filter:</h4>

<p style='margin-top:5.0pt;margin-right:.5in;margin-bottom:5.0pt;margin-left:
.5in'>This applies a spatial convolution mask to the image. You can choose to
add the result to the original image or not with the checkbox in the lower left
corner of the &#8216;Parameters&#8217; frame. <o:p></o:p></p>

<table class=MsoNormalTable border=0 cellpadding=0 style='mso-cellspacing:1.5pt;
 margin-left:.5in;mso-padding-alt:2.25pt 2.25pt 2.25pt 2.25pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes'>
  <td valign=top style='padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal><!-- .TP 4 -->For the high pass filter, the mask used is: </p>
  </td>
 </tr>
</table>

<h4 style='margin-left:.5in'>&nbsp; &nbsp; 0 <span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp; </span>-1<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
0<o:p></o:p></h4>

<h4 style='margin-left:.5in'><!-- .SS "        -1   4  -1" -->&nbsp; &nbsp; -1<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp; </span> 4 <span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-1<o:p></o:p></h4>

<h4 style='margin-left:.5in'><!-- .SS "         0  -1   0" -->&nbsp; &nbsp; 0 <span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp; </span>-1<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
0<o:p></o:p></h4>

<h4><!-- .SS "  " -->&nbsp; &nbsp; High boost:</h4>

<p class=MsoNormal style='mso-margin-top-alt:auto;margin-right:.5in;mso-margin-bottom-alt:
auto;margin-left:.5in'><a name=4></a>To use, select mask size from the pop-up
menu. In general, a larger mask will result in wider-looking enhanced edges. <o:p></o:p></p>

<table class=MsoNormalTable border=0 cellpadding=0 style='mso-cellspacing:1.5pt;
 margin-left:.5in;mso-padding-alt:2.25pt 2.25pt 2.25pt 2.25pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-lastrow:yes'>
  <td valign=top style='padding:2.25pt 2.25pt 2.25pt 2.25pt'>
  <p class=MsoNormal><!-- .TP 4 -->The default mask is: </p>
  </td>
 </tr>
</table>

<h4 style='margin-left:.5in'>&nbsp; &nbsp; -1<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp; </span>
-1 <span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-1<o:p></o:p></h4>

<h4 style='margin-left:.5in'><!-- .SS "        -1    9   -1" -->&nbsp; &nbsp;
-1<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp; </span> 9 <span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-1<o:p></o:p></h4>

<h4 style='margin-left:.5in'><!-- .SS "        -1   -1   -1" -->&nbsp; &nbsp;
-1 <span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>-1<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
-1<o:p></o:p></h4>

<p style='margin-top:5.0pt;margin-right:.5in;margin-bottom:5.0pt;margin-left:
.5in'><!-- .SS "  "  -->Next, enter or select a center value for the mask. Normally
you want the center value for an NxN mask to be (NxN). A higher value will
retain more of the original image, while a number less than NxN will result in
a negative of the original image. If you do not add the result to the original
image the result will often look black, but the image can be made visible with
a histogram stretch or equalization (note: a histogram equalization can be
performed on the displayed image by selecting the image and pressing an
&#8216;e&#8217; on the keyboard. </p>

<p style='margin-top:5.0pt;margin-right:.5in;margin-bottom:5.0pt;margin-left:
.5in'>The &#8216;Add to Original Image&#8217; checkbox in the lower left corner
of the &#8216;Parameters&#8217; frame applies to this function as well as the
ones above. <o:p></o:p></p>

<h4><!-- .SS Unsharp masking: -->&nbsp; &nbsp; Unsharp masking:</h4>

<p class=MsoNormal style='mso-margin-top-alt:auto;margin-right:.5in;mso-margin-bottom-alt:
auto;margin-left:.5in'><a name=5></a>The unsharp masking algorithm used here
(there are others) works by first using a lowpass spatial filter on the image,
then a histogram shrink on this low passed image. This result is then
subtracted from the original image, and then a histogram stretch is performed
to improve contrast. (Note that subtracting a low passed image from an original
image is similar to adding a high passed image.) </p>

<p style='margin-top:5.0pt;margin-right:.5in;margin-bottom:5.0pt;margin-left:
.5in'>To use, select or enter lower and upper limits for the histogram shrink,
and the percent to clip at the low and high ends for the final histogram
stretch. </p>

<p style='margin-top:5.0pt;margin-right:.5in;margin-bottom:5.0pt;margin-left:
.5in'><b style='mso-bidi-font-weight:normal'><o:p>&nbsp;</o:p></b></p>

<p style='margin-top:5.0pt;margin-right:.5in;margin-bottom:5.0pt;margin-left:
.5in'><b style='mso-bidi-font-weight:normal'>FREQUENCY DOMAIN SHARPENING <o:p></o:p></b></p>

<p style='margin-top:5.0pt;margin-right:.5in;margin-bottom:5.0pt;margin-left:
.5in'>The frequency domain sharpening algorithms perform highpass or high boost
filtering using Butterworth filters, and then add the result to the original
image. This is followed by a histogram stretch to improve contrast. <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <!-- .SS FFT, DCT sharpening: --></p>

<h4>&nbsp; &nbsp; FFT, DCT Sharpening:</h4>

<p class=MsoNormal style='mso-margin-top-alt:auto;margin-right:.5in;mso-margin-bottom-alt:
auto;margin-left:.5in'><a name=6></a>To use, enter or select cutoff frequency
for the highpass filter and select the Butterworth filter order. <o:p></o:p></p>

<h4><!-- .SS High frequency emphasis: -->&nbsp; &nbsp; High Frequency emphasis:</h4>

<p class=MsoNormal style='mso-margin-top-alt:auto;margin-right:.5in;mso-margin-bottom-alt:
auto;margin-left:.5in'><a name=7></a>To use, select transform type, filter
order and emphasis offset from the pop-up menus. Next enter or select the
cutoff frequency, and select or deselect &#8216;Keep DC&#8217;, as desired. <o:p></o:p></p>

<h4><!-- .SS Homomorphic: -->&nbsp; &nbsp; Homomorphic Sharpening:</h4>

<p class=MsoNormal style='mso-margin-top-alt:auto;margin-right:.5in;mso-margin-bottom-alt:
auto;margin-left:.5in'><a name=8></a>Homomorphic filtering process uses a high
frequency emphasis filter. Here you can control both the high and low frequency
gains. This process also includes a log mapping before filtering and an inverse
log after the filtering. The idea for the log mapping is to decouple the
lighting conditions from the reflectance properties of the objects in the
image. </p>

<p style='margin-top:5.0pt;margin-right:.5in;margin-bottom:5.0pt;margin-left:
.5in'>To use, enter or select the cutoff frequency from pop-up menus and lower
and higher frequency gains. If you select &#8216;Add to Original Image&#8217;,
the algorithm will do this AND will perform a histogram stretch to improve
contrast. <!-- .SH } --></p>

</div>

</body>

</html>
