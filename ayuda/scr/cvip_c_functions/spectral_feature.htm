<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- saved from url=(0014)about:internet -->
<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 10">
<meta name=Originator content="Microsoft Word 10">
<link rel=File-List href="spectral_feature_files/filelist.xml">
<title>spectral_feature</title>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="place"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="State"/>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="City"/>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>ACADEMIC COMPUTING</o:Author>
  <o:LastAuthor>ACADEMIC COMPUTING</o:LastAuthor>
  <o:Revision>7</o:Revision>
  <o:TotalTime>10</o:TotalTime>
  <o:Created>2004-06-05T01:06:00Z</o:Created>
  <o:LastSaved>2004-08-06T21:48:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>723</o:Words>
  <o:Characters>4127</o:Characters>
  <o:Company>SIUE</o:Company>
  <o:Lines>34</o:Lines>
  <o:Paragraphs>9</o:Paragraphs>
  <o:CharactersWithSpaces>4841</o:CharactersWithSpaces>
  <o:Version>10.3501</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
h2
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:2;
	font-size:18.0pt;
	font-family:"Times New Roman";}
pre
	{margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
</style>
<![endif]-->
</head>

<body lang=EN-US style='tab-interval:.5in'><script language="JavaScript" type="text/JavaScript">
function syn(){
if(parent.nav.tree){
 if(parent.nav.tree.loaded){
  parent.nav.tree.selectNode(290);
 }else{
  setTimeout("syn()",500);
}
  }else{
  setTimeout("syn()",500);
  }}
if(parent!=self){
  setTimeout("syn()",100);
}else{
  parent.location.href = "../../index.htm#page=CVIP_C_functions%2Fspectral_feature.htm";
}
originalOnload = window.onload;
if(originalOnload==null){
window.onload = function(){parent.contentLoaded = true;};
}else{
window.onload = function(){originalOnload();parent.contentLoaded = true;};
}
</script> 


<div class=Section1>

<h2>NAME</h2>

<pre><span style='mso-spacerun:yes'>     </span>spectral_feature - calculates total power spectrum in each</pre><pre><span style='mso-spacerun:yes'>     </span>band and sector over half image</pre><pre><o:p>&nbsp;</o:p></pre>

<h2>SYNOPSIS</h2>

<pre><span style='mso-spacerun:yes'>      </span>#include &lt;math.h&gt;</pre><pre><span style='mso-spacerun:yes'>      </span>#include &quot;CVIPimage.h&quot;</pre><pre><span style='mso-spacerun:yes'>      </span>#include &quot;newfeature.h&quot;</pre><pre><o:p>&nbsp;</o:p></pre><pre><span style='mso-spacerun:yes'>     </span>POWER<span style='mso-spacerun:yes'>  </span>* spectral_feature(Image<span style='mso-spacerun:yes'>  </span>*<span style='mso-spacerun:yes'>  </span>originalImage, <span style='mso-spacerun:yes'> </span>Image<span style='mso-spacerun:yes'>   </span>*</pre><pre><span style='mso-spacerun:yes'>     </span>labeledImage, int no_of_bands, int no_of_sectors, int r, int</pre><pre><span style='mso-spacerun:yes'>     </span>c)</pre><pre><o:p>&nbsp;</o:p></pre><pre><span style='mso-spacerun:yes'>      </span>&lt;originalImage&gt; - pointer to the original image</pre><pre><span style='mso-spacerun:yes'>      </span>&lt;labeledImage&gt; -<span style='mso-spacerun:yes'>  </span>Pointer to the labeled image</pre><pre><span style='mso-spacerun:yes'>      </span>&lt;no_of_bands&gt; -<span style='mso-spacerun:yes'>   </span>number of bands</pre><pre><span style='mso-spacerun:yes'>      </span>&lt;no_of_sectors&gt; - number of sectors</pre><pre><span style='mso-spacerun:yes'>      </span>&lt; r &gt; - row coordinate of a point on the labeled image</pre><pre><span style='mso-spacerun:yes'>      </span>&lt; c &gt; - column coordinate of a point on the labeled image</pre><pre><o:p>&nbsp;</o:p></pre>

<h2>PATH</h2>

<pre><span style='mso-spacerun:yes'>     </span>$CVIPtoolsHOME\CVIPC\FEATURE\spectral_feature.c</pre>

<h2>DESCRIPTION</h2>

<pre><span style='mso-spacerun:yes'>     </span>Half of the frequency domain of the object<span style='mso-spacerun:yes'>  </span>of<span style='mso-spacerun:yes'>  </span>interest<span style='mso-spacerun:yes'>  </span>is</pre><pre><span style='mso-spacerun:yes'>     </span>divided<span style='mso-spacerun:yes'>  </span>into<span style='mso-spacerun:yes'>  </span>&lt;no_of_rings&gt;<span style='mso-spacerun:yes'>  </span>rings and &lt;no_of_sectors&gt; sec-</pre><pre><span style='mso-spacerun:yes'>     </span>tors, that is to say, all sectors have<span style='mso-spacerun:yes'>  </span>equal<span style='mso-spacerun:yes'>  </span>angles,<span style='mso-spacerun:yes'>  </span>dis-</pre><pre><span style='mso-spacerun:yes'>     </span>tances<span style='mso-spacerun:yes'>  </span>between<span style='mso-spacerun:yes'>  </span>neighboring<span style='mso-spacerun:yes'>  </span>rings are equal. The frequency</pre><pre><span style='mso-spacerun:yes'>     </span>domain is got by performing forward<span style='mso-spacerun:yes'>  </span>FFT<span style='mso-spacerun:yes'>  </span>on<span style='mso-spacerun:yes'>  </span>image<span style='mso-spacerun:yes'>  </span>of<span style='mso-spacerun:yes'>  </span>the</pre><pre><span style='mso-spacerun:yes'>     </span>object<span style='mso-spacerun:yes'>  </span>of<span style='mso-spacerun:yes'>  </span>interest.<span style='mso-spacerun:yes'>  </span>The object of interest is selected by</pre><pre><span style='mso-spacerun:yes'>     </span>the<span style='mso-spacerun:yes'>  </span>point<span style='mso-spacerun:yes'>  </span>of<span style='mso-spacerun:yes'>  </span>coordinates<span style='mso-spacerun:yes'>  </span>&lt;r,c&gt;<span style='mso-spacerun:yes'>  </span>on<span style='mso-spacerun:yes'>  </span>the<span style='mso-spacerun:yes'>  </span>labeled<span style='mso-spacerun:yes'>  </span>image.</pre><pre><span style='mso-spacerun:yes'>     </span>power_fft()<span style='mso-spacerun:yes'>  </span>returns<span style='mso-spacerun:yes'>  </span>dc_normalized<span style='mso-spacerun:yes'>  </span>values<span style='mso-spacerun:yes'>  </span>of<span style='mso-spacerun:yes'>  </span>total power</pre><pre><span style='mso-spacerun:yes'>     </span>spectrum in each ring and sector. 'dc_normalized' means<span style='mso-spacerun:yes'>  </span>all</pre><pre><span style='mso-spacerun:yes'>     </span>total<span style='mso-spacerun:yes'>  </span>power<span style='mso-spacerun:yes'>  </span>spectrums<span style='mso-spacerun:yes'>  </span>are divided by the value of dc com-</pre><pre><span style='mso-spacerun:yes'>     </span>ponent (the value before divided by N*N). For dc<span style='mso-spacerun:yes'>  </span>component,</pre><pre><span style='mso-spacerun:yes'>     </span>it<span style='mso-spacerun:yes'>  </span>is divided by pow(N, 4) before returned to make it to be</pre><pre><span style='mso-spacerun:yes'>     </span>the power spectrum of the average value of all pixels in the</pre><pre><span style='mso-spacerun:yes'>     </span>object<span style='mso-spacerun:yes'>  </span>image. N is equal to the image size of the object of</pre><pre><span style='mso-spacerun:yes'>     </span>interest(an N*N image).</pre><pre><o:p>&nbsp;</o:p></pre>

<h2>TYPES AND CONSTANTS</h2>

<pre><span style='mso-spacerun:yes'>     </span>POWER is defined in $CVIPtoolsHOME/include/newfeature.h as follows:</pre><pre><o:p>&nbsp;</o:p></pre>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='mso-spacerun:yes'>          </span><span style='font-size:10.0pt;
font-family:"Courier New";color:blue'>typedef</span><span style='font-size:
10.0pt;font-family:"Courier New"'> <span style='color:blue'>struct<o:p></o:p></span></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>     </span>{<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>       </span><span style='color:blue'>int</span>
no_of_sectors;<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>       </span><span style='color:blue'>int</span>
no_of_bands;<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>       </span><span style='color:blue'>int</span>
imagebands;<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>       </span><span style='color:blue'>double </span>*
dc;<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>       </span><span style='color:blue'>double</span> *
sector;<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>       </span><span style='color:blue'>double</span> *
band;<o:p></o:p></span></p>

<pre><span style='mso-spacerun:yes'>     </span>} POWER;</pre><pre><o:p>&nbsp;</o:p></pre><pre><span style='mso-spacerun:yes'>     </span>If the original image is a color image, the first no_of_bands</pre><pre><span style='mso-spacerun:yes'>     </span>and no_of_sectors values pointed to by 'dc', 'sector', and</pre><pre><span style='mso-spacerun:yes'>     </span>values pointed to by those pointers are for band 1, and so on.</pre><pre><o:p>&nbsp;</o:p></pre>

<h2>RETURN VALUES</h2>

<pre><span style='mso-spacerun:yes'>     </span>A pointer to a structure named<span style='mso-spacerun:yes'>  </span>POWER<span style='mso-spacerun:yes'>  </span>containing<span style='mso-spacerun:yes'>  </span>spectral</pre><pre><span style='mso-spacerun:yes'>     </span>Features data</pre><pre><o:p>&nbsp;</o:p></pre>

<h2>HISTORY</h2>

<pre><span style='mso-spacerun:yes'>     </span>History information recorded: None</pre><pre><o:p>&nbsp;</o:p></pre>

<h2>EXAMPLE</h2>

<pre><span style='mso-spacerun:yes'>      </span>#include &quot;CVIPtoolkit.h&quot;</pre><pre><span style='mso-spacerun:yes'>      </span>#include &quot;CVIPobject.h&quot;</pre><pre><span style='mso-spacerun:yes'>      </span>#include &quot;CVIPconvert.h&quot;</pre><pre><span style='mso-spacerun:yes'>      </span>#include &lt;math.h&gt;</pre><pre><span style='mso-spacerun:yes'>      </span>#include &quot;ObjectContour.h&quot;</pre><pre><span style='mso-spacerun:yes'>      </span>#include &quot;newfeature.h&quot;</pre><pre><o:p>&nbsp;</o:p></pre><pre><span style='mso-spacerun:yes'>      </span>void main()</pre><pre><span style='mso-spacerun:yes'>      </span>{</pre><pre><span style='mso-spacerun:yes'>      </span><span style='mso-spacerun:yes'>   </span>Image *inputImage, *labeledImage,*inputImage1;</pre><pre><span style='mso-spacerun:yes'>         </span>IMAGE_FORMAT format;</pre><pre><span style='mso-spacerun:yes'>         </span>char *inputfile, *outputfile;</pre><pre><span style='mso-spacerun:yes'>         </span>int rows, cols, r, c,k,i;</pre><pre><span style='mso-spacerun:yes'>         </span>POWER *PP;</pre><pre><span style='mso-spacerun:yes'>         </span>int bands,no_rings,no_sectors;</pre><pre><o:p>&nbsp;</o:p></pre><pre><span style='mso-spacerun:yes'>         </span>setDisplay_Image(&quot;picture&quot;, &quot;Default&quot;);</pre><pre><o:p>&nbsp;</o:p></pre><pre><span style='mso-spacerun:yes'>         </span>print_CVIP(&quot;\nEnter the Input File Name:<span style='mso-spacerun:yes'>  </span>&quot;);</pre><pre><span style='mso-spacerun:yes'>         </span>inputfile = (char *) getString_CVIP();</pre><pre><span style='mso-spacerun:yes'>         </span>inputImage = read_Image(inputfile,1);</pre><pre><span style='mso-spacerun:yes'>         </span>view_Image(inputImage,inputfile);</pre><pre><span style='mso-spacerun:yes'>         </span>inputImage1=(Image *)duplicate_Image(inputImage);</pre><pre><span style='mso-spacerun:yes'>         </span>labeledImage = label(inputImage);</pre><pre><span style='mso-spacerun:yes'>         </span>rows = getNoOfRows_Image(labeledImage);</pre><pre><span style='mso-spacerun:yes'>         </span>cols = getNoOfCols_Image(labeledImage);</pre><pre><span style='mso-spacerun:yes'>         </span>bands = getNoOfBands_Image(labeledImage);</pre><pre><span style='mso-spacerun:yes'>         </span>print_CVIP(&quot;\nEnter the row coordinate of a point</pre><pre><span style='mso-spacerun:yes'>         </span>on the labled image: &quot;);</pre><pre><span style='mso-spacerun:yes'>         </span>r = getInt_CVIP(10, 0, rows);</pre><pre><span style='mso-spacerun:yes'>         </span>print_CVIP(&quot;\nEnter the col coordinate of the point</pre><pre><span style='mso-spacerun:yes'>         </span>on the labled image: &quot;);</pre><pre><span style='mso-spacerun:yes'>         </span>c = getInt_CVIP(10, 0, cols);</pre><pre><span style='mso-spacerun:yes'>         </span>print_CVIP(&quot;\nEnter the number of rings: &quot;);</pre><pre><span style='mso-spacerun:yes'>         </span>no_rings = getInt_CVIP(10, 0,10);</pre><pre><span style='mso-spacerun:yes'>         </span>print_CVIP(&quot;\nEnter the number of sectors: &quot;);</pre><pre><span style='mso-spacerun:yes'>         </span>no_sectors = getInt_CVIP(10, 0,10);</pre><pre><span style='mso-spacerun:yes'>         </span>PP=spectral_feature(inputImage1,labeledImage,</pre><pre><span style='mso-spacerun:yes'>         </span>no_rings,no_sectors,r,c);</pre><pre><span style='mso-spacerun:yes'>         </span>print_CVIP(&quot;The spectral features of the input image</pre><pre><span style='mso-spacerun:yes'>         </span>are:&quot;);</pre><pre><span style='mso-spacerun:yes'>         </span>for (k=0; k&lt;bands; k++)</pre><pre><span style='mso-spacerun:yes'>         </span>{</pre><pre><span style='mso-spacerun:yes'>              </span>print_CVIP(&quot;<st1:place><st1:City>Spectral</st1:City> <st1:State>DC</st1:State></st1:place> value band%d =%f&quot;,k,</pre><pre><span style='mso-spacerun:yes'>              </span>(PP-&gt;dc)[k]);</pre><pre><span style='mso-spacerun:yes'>              </span>for (i=0; i&lt;PP-&gt;no_of_bands; i++)</pre><pre><span style='mso-spacerun:yes'>               </span><span style='mso-spacerun:yes'>  </span>print_CVIP(&quot;Ring%d=%f\n &quot;,i+1,(PP-&gt;band)</pre><pre><span style='mso-spacerun:yes'>                 </span>[k*PP-&gt;no_of_bands + i]);</pre><pre><o:p>&nbsp;</o:p></pre><pre><span style='mso-spacerun:yes'>              </span>for (i=0; i&lt;PP-&gt;no_of_sectors; i++)</pre><pre><span style='mso-spacerun:yes'>                 </span>print_CVIP(&quot;Sector%d=%f\n &quot;,i,(PP-&gt;sector)</pre><pre><span style='mso-spacerun:yes'>                 </span>[k*PP-&gt;no_of_sectors + i]);</pre><pre><span style='mso-spacerun:yes'>         </span>}</pre><pre><o:p>&nbsp;</o:p></pre><pre><span style='mso-spacerun:yes'>  </span><span style='mso-spacerun:yes'>       </span>free(inputfile);</pre><pre><span style='mso-spacerun:yes'>         </span>free((char *)PP-&gt;dc);</pre><pre><span style='mso-spacerun:yes'>         </span>free((char *)PP-&gt;sector);</pre><pre><span style='mso-spacerun:yes'>         </span>free((char *)PP-&gt;band);</pre><pre><span style='mso-spacerun:yes'>         </span>free((char *)PP);</pre><pre><span style='mso-spacerun:yes'>         </span>free(inputImage);</pre><pre><span style='mso-spacerun:yes'>         </span>free(inputImage1);</pre><pre><span style='mso-spacerun:yes'>         </span>free(labeledImage);</pre><pre><o:p>&nbsp;</o:p></pre><pre><span style='mso-spacerun:yes'>       </span>}</pre><pre><o:p>&nbsp;</o:p></pre>

<h2>DIAGNOSTICS</h2>

<pre><span style='mso-spacerun:yes'>     </span>The original image can<span style='mso-spacerun:yes'>  </span>be<span style='mso-spacerun:yes'>  </span>of<span style='mso-spacerun:yes'>  </span>any<span style='mso-spacerun:yes'>  </span>of<span style='mso-spacerun:yes'>  </span>these<span style='mso-spacerun:yes'>  </span>data<span style='mso-spacerun:yes'>  </span>types:</pre><pre><span style='mso-spacerun:yes'>     </span>CVIP_BYTE,<span style='mso-spacerun:yes'>    </span>CVIP_SHORT,<span style='mso-spacerun:yes'>   </span>CVIP_INTEGER,<span style='mso-spacerun:yes'>   </span>CVIP_FLOAT<span style='mso-spacerun:yes'>   </span>and</pre><pre><span style='mso-spacerun:yes'>     </span>CVIP_DOUBLE.</pre><pre><o:p>&nbsp;</o:p></pre>

<h2>SEE ALSO</h2>

<pre><span style='mso-spacerun:yes'>     </span>FEATURE library</pre><pre><o:p>&nbsp;</o:p></pre>

<h2>AUTHOR</h2>

<pre><span style='mso-spacerun:yes'>     </span>Copyright (C) 1996, 2004 SIUE - by Scott E.<span style='mso-spacerun:yes'>  </span>Umbaugh<span style='mso-spacerun:yes'>  </span>and<span style='mso-spacerun:yes'>  </span>Wenxing</pre><pre><span style='mso-spacerun:yes'>     </span>Li.</pre><pre><o:p>&nbsp;</o:p></pre>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

</div>

</body>

</html>
